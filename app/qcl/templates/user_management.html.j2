{% extends 'base.html.j2' %}
{% block head %}
{% include 'load_jquery.html' %}
{% include 'load_datatables.html' %}
<script src="/static/functions.js"></script>
{% endblock %}
{% block title %}Code QA{% endblock %}
{% block body %}
<div class="container">
    <h1>User Management</h1>
    <table id="users">
        <thead>
            <tr>
                <th>username</th>
                <th>admin</th>
                <th>verified</th>
                <th>disabled</th>
                <th>created</th>
                <th>locked</th>
                <th>sessions</th>
                <th>functions</th>
                <th>average rating</th>
            </tr>
        </thead>
        <tbody>
            {% for item in data %}
            <tr>
                <td><a href="/user/{{ item.user_id }}">{{ item.username }}</a></td>
                <td>{{ item.admin }}</td>
                <td>{{ item.verified }}</td>
                <td>{{ item.disabled }}</td>
                <td>{{ item.created }}</td>
                <td>{{ item.locked if item.locked is not none else 'N/A' }}</td>
                <td>{{ item.sessions }}</td>
                <td>{{ item.functions }}</td>
                <td>{{ item.average }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <script nonce="{{ csp_nonce() }}">
        makeDatatable("users")
    </script>
</div>
{% endblock %}