{% extends 'base.html.j2' %}
{% block head%}
{% include 'load_jquery.html' %}
<script src="/static/functions.js"></script>
{% endblock %}
{% block title %}Code QA{% endblock %}
{% block body %}
<h1>Name and Classify your function</h1>
<nav class="trail">
    <ul>
        <li><a href="/add">Check</a></li>
        <li><a href="/doc">Document</a></li>
        <li><a href="/test">Test</a></li>
        <li><strong>Classify</strong></li>
    </ul>
</nav>
<p>Give your function and name and describe its use case. Click 'Generate Keywords' to have OpenAI
    automatically generate a list of relevant keywords for you. You can modify the results before saving the function.
</p>
{% include 'error_form.html.j2' %}
{% if error %}
<p class="error-message">{{ error }}</p>
{% endif %}
<form id="form" method="POST" action="/classify">
    {{ form.csrf_token }}
    <div>{{ form.name.label }} <br> {{ form.name }}</div>
    <div>{{ form.usecase.label }} <br> {{ form.usecase }}</div>
    <div>{{ form.keywords.label }} <br> {{ form.keywords }}</div>
    {{ form.generate }}
    {{ form.save }}
</form>
<script nonce="{{ csp_nonce() }}">
    setSpinner("form")
</script>
{% endblock %}